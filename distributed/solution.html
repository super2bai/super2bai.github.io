<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <link rel="stylesheet" href="/style/style.css">
<script>
  var nlviconfig = {
    title: "贰白",
    author: "super2bai",
    baseUrl: "/",
    theme: {
      scheme: "banderole",
      lightbox: true,
      animate: true,
      search: false,
      friends: false,
      reward: true,
      lazy: false
    }
  }
</script>




    <link rel="stylesheet" href="/script/lib/lightbox/css/lightbox.min.css">




    <link rel="stylesheet" href="/syuanpi/syuanpi.min.css">




    <link rel="icon" href="https://wx4.sinaimg.cn/mw690/8c564d2agy1fq4rsiycy4j202c01wa9v.jpg">




<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-98059014-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-116557847-1');
</script>





    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="browsermode" content="application">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="贰白">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="msapplication-navbutton-color" content="#666666">
<meta name= "format-detection" content="telephone=no" />
<meta name="keywords" content="nlvi, Nlvi" />

  <link rel="apple-touch-icon"  sizes="72x72"  href="https://wx4.sinaimg.cn/mw690/8c564d2agy1fq4rsiycy4j202c01wa9v.jpg">
  <link rel="apple-touch-icon-precomposed"  sizes="72x72"  href="https://wx4.sinaimg.cn/mw690/8c564d2agy1fq4rsiycy4j202c01wa9v.jpg">


  <meta name="subtitle" content="苦于探索，全是未知">


  <meta name="description" content="苦于探索，全是未知">



  <meta name="keywords" content="分布式, Nlvi" />

  <title> 分布式事务解决方案 · 贰白 </title>
</head>
<body>
  <div class="progress">
  <div class="progress-inner"></div>
</div>
  
  
    <div class="tagcloud-mask"></div>  
<div class="tagcloud" id="tagcloud">
  <div class="tagcloud-inner">
    <a href="/tags/Docker/" style="font-size: 14px;">Docker</a> <a href="/tags/Dubbo/" style="font-size: 14px;">Dubbo</a> <a href="/tags/Eclipse/" style="font-size: 14px;">Eclipse</a> <a href="/tags/GHPages/" style="font-size: 14px;">GHPages</a> <a href="/tags/IO/" style="font-size: 14px;">IO</a> <a href="/tags/JDK/" style="font-size: 14px;">JDK</a> <a href="/tags/JVM/" style="font-size: 14px;">JVM</a> <a href="/tags/Linux/" style="font-size: 14px;">Linux</a> <a href="/tags/MySQL/" style="font-size: 14px;">MySQL</a> <a href="/tags/Python/" style="font-size: 14px;">Python</a> <a href="/tags/Spring/" style="font-size: 14px;">Spring</a> <a href="/tags/Tomcat/" style="font-size: 14px;">Tomcat</a> <a href="/tags/Zookeeper/" style="font-size: 14px;">Zookeeper</a> <a href="/tags/concurrent/" style="font-size: 14px;">concurrent</a> <a href="/tags/jmeter/" style="font-size: 14px;">jmeter</a> <a href="/tags/mac/" style="font-size: 14px;">mac</a> <a href="/tags/walkup/" style="font-size: 14px;">walkup</a> <a href="/tags/分布式/" style="font-size: 14px;">分布式</a> <a href="/tags/工具/" style="font-size: 14px;">工具</a> <a href="/tags/旅游/" style="font-size: 14px;">旅游</a> <a href="/tags/汇编/" style="font-size: 14px;">汇编</a> <a href="/tags/游戏/" style="font-size: 14px;">游戏</a> <a href="/tags/编码/" style="font-size: 14px;">编码</a> <a href="/tags/部署/" style="font-size: 14px;">部署</a>
  </div>
</div>  
  

  <div class="container">

    <header class="header" id="header">
  <div class="header-wrapper">
    <div class="logo">
  <div class="logo-inner syuanpi tvIn">
    <span><a href="/">贰白</a></span>
    
      <span id="subtitle">苦于探索，全是未知</span>
    
  </div>
</div>
    <nav class="main-nav">
  
  <ul class="main-nav-list syuanpi tvIn">
  
  
    
      
    
    <li class="menu-item">
      <a href="/" id="article">
        <span class="base-name">文章</span>
        
          <span class="menu-item-label">article</span>
        
      </a>
    </li>
  
    
      
    
    <li class="menu-item">
      <a href="/archives" id="archives">
        <span class="base-name">归档</span>
        
          <span class="menu-item-label">archives</span>
        
      </a>
    </li>
  
    
      
    
    <li class="menu-item">
      <a href="javascript:;" id="tags">
        <span class="base-name">标签</span>
        
          <span class="menu-item-label">tags</span>
        
      </a>
    </li>
  
    
      
    
    <li class="menu-item">
      <a href="/about" id="about">
        <span class="base-name">关于</span>
        
          <span class="menu-item-label">about</span>
        
      </a>
    </li>
  
  </ul>
  
</nav>

    
    
  </div>
</header>
<div class="mobile-header">
  <div class="mobile-header-body">
    <div class="mobile-header-list">
      
        
            <div class="mobile-nav-item">
                <a href="/">
                    <span>文章</span>
                    
                        <span class="menu-item-label">article</span>
                    
                </a>
            </div>
        
      
        
            <div class="mobile-nav-item">
                <a href="/archives">
                    <span>归档</span>
                    
                        <span class="menu-item-label">archives</span>
                    
                </a>
            </div>
        
      
        
          <div class="mobile-nav-item inner-cloud">
            <div class="mobile-nav-tag">
              <a href="javascript:;" id="mobile-tags">
                <span>标签</span>
                
                    <span class="menu-item-label">tags</span>
                
              </a>
            </div>
            <div class="mobile-nav-tagcloud">
              <div class="mobile-tagcloud-inner">
                <a href="/tags/Docker/" style="font-size: 14px;">Docker</a> <a href="/tags/Dubbo/" style="font-size: 14px;">Dubbo</a> <a href="/tags/Eclipse/" style="font-size: 14px;">Eclipse</a> <a href="/tags/GHPages/" style="font-size: 14px;">GHPages</a> <a href="/tags/IO/" style="font-size: 14px;">IO</a> <a href="/tags/JDK/" style="font-size: 14px;">JDK</a> <a href="/tags/JVM/" style="font-size: 14px;">JVM</a> <a href="/tags/Linux/" style="font-size: 14px;">Linux</a> <a href="/tags/MySQL/" style="font-size: 14px;">MySQL</a> <a href="/tags/Python/" style="font-size: 14px;">Python</a> <a href="/tags/Spring/" style="font-size: 14px;">Spring</a> <a href="/tags/Tomcat/" style="font-size: 14px;">Tomcat</a> <a href="/tags/Zookeeper/" style="font-size: 14px;">Zookeeper</a> <a href="/tags/concurrent/" style="font-size: 14px;">concurrent</a> <a href="/tags/jmeter/" style="font-size: 14px;">jmeter</a> <a href="/tags/mac/" style="font-size: 14px;">mac</a> <a href="/tags/walkup/" style="font-size: 14px;">walkup</a> <a href="/tags/分布式/" style="font-size: 14px;">分布式</a> <a href="/tags/工具/" style="font-size: 14px;">工具</a> <a href="/tags/旅游/" style="font-size: 14px;">旅游</a> <a href="/tags/汇编/" style="font-size: 14px;">汇编</a> <a href="/tags/游戏/" style="font-size: 14px;">游戏</a> <a href="/tags/编码/" style="font-size: 14px;">编码</a> <a href="/tags/部署/" style="font-size: 14px;">部署</a>
              </div>
            </div>
          </div>
        
      
        
            <div class="mobile-nav-item">
                <a href="/about">
                    <span>关于</span>
                    
                        <span class="menu-item-label">about</span>
                    
                </a>
            </div>
        
      
    </div>
  </div>
  <div class="mobile-header-nav">
    <div class="mobile-header-item" id="mobile-left">
      <div class="header-menu-item">
        <span class="header-menu-line"></span>
      </div>
    </div>
    <h1 class="mobile-header-title">
      <a href="/">贰白</a>
    </h1>
    <div class="mobile-header-item"></div>
  </div>
</div>
    <div class="container-inner">
      <main class="main" id="main">
        <div class="main-wrapper">
          
    
  
  <article class="
  post
   is_post 
  ">
    <header class="post-header">
      <div class="post-time syuanpi fadeInUpShort back-1">
        <div class="post-time-wrapper">
          <span>2017-11-11</span>
          
            
              <span class="post-category"><a href="/categories/distributed/">distributed</a></span>
            
          
          
            
              <aside class="post-tags syuanpi fadeInUpShort back-3">
              
                <a href="/tags/分布式/">分布式</a>
              
              </aside>
            
          
        </div>
      </div>
      <h1 class="post-title syuanpi fadeInUpShort back-2">
        
          分布式事务解决方案
        
      </h1>
    </header>
    <div class="post-content syuanpi fadeInUpShort back-3">
      
        <h3 id="分布式事务产生背景"><a href="#分布式事务产生背景" class="headerlink" title="分布式事务产生背景"></a>分布式事务产生背景</h3><a id="more"></a>
<blockquote>
<p> 一般情况下，讲分布式事务都是说数据库的事务(database transaction)。后来一些非数据库的事务也借鉴了此概念。</p>
<p> <strong>事务</strong>：运行在数据库上的逻辑单元，一切命令SQL具有原子性的操作特点(要么完全成功的执行，要么完全撤销不执行)。</p>
</blockquote>
<h4 id="数据库事务要满足的要求ACID"><a href="#数据库事务要满足的要求ACID" class="headerlink" title="数据库事务要满足的要求ACID"></a>数据库事务要满足的要求ACID</h4><ul>
<li>原子性Atomic<ul>
<li>事务必须是原子的工作单元</li>
</ul>
</li>
<li>隔离性Isolation<ul>
<li>并发事务所做的修改必须和其它事务所做的修改时隔离的</li>
</ul>
</li>
</ul>
<ul>
<li>一致性Consistent<ul>
<li>事务完成时，必须使所有数据都保持一致状态</li>
</ul>
</li>
<li>持久性Duration<ul>
<li>事务完成之后，对系统的影响是永久性的</li>
</ul>
</li>
</ul>
<blockquote>
<p>隔离性通过锁实现，其他特性通过数据库的事务日志来实现。涉及到IO操作。这就是事务操作的性能瓶颈所在。</p>
</blockquote>
<h4 id="Mysql里的事务处理过程"><a href="#Mysql里的事务处理过程" class="headerlink" title="Mysql里的事务处理过程"></a>Mysql里的事务处理过程</h4><ul>
<li>记录<code>redo</code>和<code>undo</code>的log文件，确保日志在磁盘上的持久化</li>
<li>更新数据记录</li>
<li>提交事务，redo写入commit记录</li>
</ul>
<h4 id="分布式事务"><a href="#分布式事务" class="headerlink" title="分布式事务"></a>分布式事务</h4><p><strong>分库分表</strong></p>
<ul>
<li>数据库拆分<ul>
<li>读库</li>
<li>写库</li>
</ul>
</li>
<li>SOA化<ul>
<li>单机可以支撑的系统做拆分<ul>
<li>用户中心</li>
<li>库存中心</li>
<li>订单中心</li>
<li>商品中心</li>
<li>…</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="经典的X-OpenDTP事务模型"><a href="#经典的X-OpenDTP事务模型" class="headerlink" title="经典的X/OpenDTP事务模型"></a>经典的X/OpenDTP事务模型</h3><blockquote>
<p> X/Open Distributed Transaction Processing Reference Model分布式事务处理模型。</p>
<p> X/Open是一个组织机构，定义出的一套分布式事务标准，定义了规范的API接口，由具体厂商负责实现。</p>
<p> J2EE 遵循了X/open DTP规范，设计并实现了java里面的分布式事务编程接口规范-JTA。</p>
<p> XA是X/Open DTP定义的中间件与数据库之间的接口规范。 XA接口函数由数据库厂商提供。</p>
</blockquote>
<h4 id="X-OpenDTP角色"><a href="#X-OpenDTP角色" class="headerlink" title="X/OpenDTP角色"></a>X/OpenDTP角色</h4><ul>
<li>AP<ul>
<li>application   </li>
</ul>
</li>
<li>RM <ul>
<li>resouces manager</li>
<li>资源管理器</li>
<li>一般情况下是数据库或者是文件系统</li>
<li>XA定义的接口</li>
</ul>
</li>
<li>TM<ul>
<li>transaction manager</li>
<li>事务管理器，事务协调者</li>
<li>负责接收来自AP的XA事务指令，并协调RM执行XA指令</li>
</ul>
</li>
</ul>
<h4 id="二阶段提交（2PC）"><a href="#二阶段提交（2PC）" class="headerlink" title="二阶段提交（2PC）"></a>二阶段提交（2PC）</h4><blockquote>
<p> 2PC（two -phase-commit）, 用来保证分布式事务的完整性。</p>
</blockquote>
<p><strong>阶段一：提交事务请求（投票）</strong></p>
<ul>
<li>TM向所有的AP发送prepare请求(事务内容，事务的预提交，相当于把耗时的操作先执行)，询问是否可以执行事务的提交操作，并等待各个AP的响应</li>
<li>执行事务<ul>
<li>各个AP节点执行事务操作，将undo和redo信息记录到事务日志中，尽量把提交过程中所消耗时间的操作和准备都提前完成后确保后续事务提交的成功率</li>
</ul>
</li>
</ul>
<ul>
<li>各个AP向TM反馈事务询问的响应<ul>
<li>各个AP成功执行了事务操作，那么反馈给TM<code>yes</code>的response</li>
<li>如果AP没有成功执行事务，就反馈TM<code>no</code>的response</li>
</ul>
</li>
</ul>
<p><strong>阶段二：执行事务提交</strong></p>
<ul>
<li>TM向AP发送commit请求（提交事务请求）<ul>
<li>执行提交事务<ul>
<li>全部返回<code>yes</code></li>
</ul>
</li>
</ul>
</li>
<li>TM向AP发送abort请求（中断事务提交）<ul>
<li>只要任何一个返回返回了<code>no</code>，协调者就认为这个事务需要回滚</li>
<li>按照undo日志回滚，回滚后释放事务资源（包括锁），返回<code>ack</code>给TM</li>
</ul>
</li>
</ul>
<blockquote>
<p>假设一个事务的提交过程总共需要30s，其中prepare操作需要28s（事务日志落地磁盘及各种IO操作），而真正commit只需要2s。那么，commit阶段发生错误的概率和prepare相比，2/28(&lt;10%).只要第一个阶段成功，那么commit阶段出现失败的概率就非常小，大大增加了分布式事务的成功概率。</p>
</blockquote>
<h5 id="2PC存在的问题"><a href="#2PC存在的问题" class="headerlink" title="2PC存在的问题"></a>2PC存在的问题</h5><ul>
<li>数据一致性问题<ul>
<li>在二阶段，参与者和协调者都挂了，挂了的参与者AP在挂之前已经执行了一个操作，但是由于挂了，其他机器不知道执行了什么操作。<ul>
<li>TM可以通过leader选举或其它方式来产生，新TM需要保证与AP保证数据一致性， 如果三个AP中两个执行了commit，另外一个在挂掉之前执行了rollback，这时候就会产生数据一致性的问题。</li>
</ul>
</li>
</ul>
</li>
<li>同步阻塞<ul>
<li>TM发送请求后，需等待AP返回响应，这个过程中，TM处于等待状态，AP返回yes，TM发送commit后挂了，AP处于阻塞状态，会导致性能问题。</li>
</ul>
</li>
</ul>
<h4 id="三阶段提交3PC-three-phase-commit"><a href="#三阶段提交3PC-three-phase-commit" class="headerlink" title="三阶段提交3PC(three phase commit)"></a>三阶段提交3PC(three phase commit)</h4><ul>
<li>canCommit<ul>
<li>有没有时间去钓鱼</li>
</ul>
</li>
<li>preCommit<ul>
<li>暂定某天去钓鱼并告知所有人</li>
</ul>
</li>
<li>doCommit<ul>
<li>到了预定的那天，一起去钓鱼</li>
</ul>
</li>
</ul>
<blockquote>
<p> 引入超时机制，preCommit没有响应，则认为该事务失败。</p>
<p> 增加询问的操作，确保挂掉后能正常恢复。</p>
<p> 但其实依旧存在一致性问题，Zookeeper那采用多阶段提交，可以查看源码一探究竟。</p>
</blockquote>
<h3 id="分布式事务的常见实现"><a href="#分布式事务的常见实现" class="headerlink" title="分布式事务的常见实现"></a>分布式事务的常见实现</h3><ul>
<li>JOTM(java open transaction manager)<ul>
<li>Object Web开源的基于J2EE的JTA规范的实现</li>
</ul>
</li>
<li>Atomikos<ul>
<li>本身是一个商业项目，开源</li>
<li>常用</li>
</ul>
</li>
</ul>
<h3 id="互联网行业分布式事务解决方案"><a href="#互联网行业分布式事务解决方案" class="headerlink" title="互联网行业分布式事务解决方案"></a>互联网行业分布式事务解决方案</h3><p><strong>柔性事务</strong>：相对于强一致性的ACID刚性事务</p>
<ul>
<li>最终一致性<ul>
<li>eBay模式<ul>
<li>BASE理论<ul>
<li>无需保证数据在某一点的强一致性，保证最终一致性</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>TCC事务</li>
<li>补偿机制</li>
</ul>
<p><strong>消息重复消费解决方案</strong></p>
<ul>
<li>幂等校验<ul>
<li>数据库mq_reciver,key为消息的唯一值<ul>
<li>发送消息在数据库里插入</li>
</ul>
</li>
</ul>
</li>
<li>日志表、状态判断<ul>
<li>记录消费表<ul>
<li>msgId、status</li>
<li>处理后更改status</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>保证最终一致性的模式</strong></p>
<ul>
<li>查询模式<ul>
<li>提供接口，返回当前操作是否成功的状态<ul>
<li><a href="https://help.aliyun.com/document_detail/48726.html" target="_blank" rel="external">阿里GTS</a></li>
</ul>
</li>
<li>衰减查询</li>
</ul>
</li>
<li>补偿模式<ul>
<li>即在事务链中的任何一个正向事务操作，都必须存在一个完全符合回滚规则的可逆事务。<ul>
<li>自动恢复<ul>
<li>A调B，失败了。自动重试。</li>
<li>衰减查询后的结果一直是失败的，自动对原有操作做回滚。</li>
</ul>
</li>
<li>通知运营<ul>
<li>自动恢复不了，成本较大，通过运营系统人工补偿</li>
</ul>
</li>
<li>通知技术<ul>
<li>监控、预警</li>
<li>修复数据</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>TCC事务模型（支付宝的DTS事务架构）<ul>
<li>放宽了数据库强一致性约束，保证数据最终一致性的方案</li>
<li>三个阶段<ul>
<li>TRYING—lock(尝试执行业务)<ul>
<li>完成所有业务检查(一致性)</li>
<li>预留必须业务资源(准隔离性)</li>
</ul>
</li>
<li>CONFIRMING—commit(确认执行任务)<ul>
<li>真正执行业务</li>
<li>不做任何业务检查</li>
<li>只使用Try阶段预留的业务资源</li>
<li>Confirm操作满足幂等性</li>
</ul>
</li>
<li>CANCELING—rollback(取消执行业务)<ul>
<li>释放Try阶段预留的业务资源</li>
<li>Cancel操作满足幂等性</li>
</ul>
</li>
</ul>
</li>
<li>开源框架(可以整合dubbo)<ul>
<li><a href="https://github.com/changmingxie/tcc-transaction" target="_blank" rel="external">tcc-transation</a></li>
<li><a href="https://github.com/liuyangming/ByteTCC" target="_blank" rel="external">bytetcc</a></li>
</ul>
</li>
</ul>
</li>
<li>最大努力通知型<ul>
<li>同步</li>
<li>异步</li>
<li>查询掉单</li>
</ul>
</li>
</ul>

      
    
    </div>
    
      
  <div class="post-reward">
    <span class="reward-btn" id="reward-btn">点这里</span>
    <div class="reward-wrapper syuanpi" id="reward-wrapper" style="display:none;">
      
      <div class="reward-item reward-alipay">
        <img src="https://wx3.sinaimg.cn/mw690/8c564d2aly1ftkt83thjlj20o60skjzn.jpg">
      </div>
      
    </div>
  </div>


      
    
  </article>
  
    
  <nav class="article-page">
    
      <a href="/IO/NIO.html" id="art-left" class="art-left">
        <span class="next-title">
          <i class="iconfont icon-left"></i>NIO原理
        </span>
      </a>
    
    
      <a href="/Dubbo/rootcode.html" id="art-right" class="art-right">
        <span class="prev-title"> 
          Dubbo主干源码分析<i class="iconfont icon-right"></i>  
        </span>
      </a>
    
  </nav>

    
  <i id="com-switch" class="iconfont icon-more jumping-in long infinite" style="font-size:24px;display:block;text-align:center;transform:rotate(180deg);"></i>
  <div class="post-comments" id="post-comments" style="display: block;margin: auto 16px;">
    
<!-- Gitment Comments -->
<div id="gitment"></div>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
var gitment = new Gitment({
  owner: "super2bai",
  repo: 'comment',
  oauth: {
    client_id: '37f2293730b41dcb5276',
    client_secret: 'dbab4955840d4cbc88f1563be04ab676662194e5',
  },
})
gitment.render('gitment')
</script>

    
    

  </div>


  
  
    
  
  <aside class="post-toc">
    <span class="title" id="toc-switch"><span>文章导航</span></span>
    <div class="toc-inner syuanpi back-1" style="display:none;">
      <li class="title-link"><a href="javascript:;" class="toTop">分布式事务解决方案</a></li>
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#分布式事务产生背景"><span class="toc-text">分布式事务产生背景</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#数据库事务要满足的要求ACID"><span class="toc-text">数据库事务要满足的要求ACID</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Mysql里的事务处理过程"><span class="toc-text">Mysql里的事务处理过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#分布式事务"><span class="toc-text">分布式事务</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#经典的X-OpenDTP事务模型"><span class="toc-text">经典的X/OpenDTP事务模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#X-OpenDTP角色"><span class="toc-text">X/OpenDTP角色</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#二阶段提交（2PC）"><span class="toc-text">二阶段提交（2PC）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2PC存在的问题"><span class="toc-text">2PC存在的问题</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#三阶段提交3PC-three-phase-commit"><span class="toc-text">三阶段提交3PC(three phase commit)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分布式事务的常见实现"><span class="toc-text">分布式事务的常见实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#互联网行业分布式事务解决方案"><span class="toc-text">互联网行业分布式事务解决方案</span></a></li></ol>
    </div>
  </aside>



  


        </div>
      </main>

      <footer class="footer syuanpi fadeIn" id="footer">
  <hr>
  <div class="footer-wrapper">
    <div class="left">
      <div class="contact-icon">
    
    
    
    
    
    
    
    
        
            <a href="https://github.com/super2bai" class="iconfont icon-github" title="github"></a>
        
        
        
        
        
        
        
    
</div>
    </div>
    <div class="right">
      <div class="copyright">
    <div class="info">
        <span>&copy;</span>
        <span>2017 ~ 2018</span>
        <span>❤</span>
        <span>super2bai</span>
    </div>
    <div class="theme">
        <span>
            动力来源于
            <a href="http://hexo.io/" target="_blank">Hexo </a>
        </span>
        <span>
            主题
            <a href="https://github.com/ColMugX/hexo-theme-Nlvi"> Nlvi </a>
        </span>
    </div>
    
    <div class="visit_count">
        <i class="iconfont icon-visit"></i>
        <span id="busuanzi_value_site_uv"></span>
        <i class="iconfont icon-people"></i>
        <span id="busuanzi_value_site_pv"></span>
    </div>
    
</div>

    </div>
  </div>
</footer>
    </div>
  </div>
  <script src="/script/lib/jquery/jquery-3.2.1.min.js"></script>


  <script src="/script/lib/lightbox/js/lightbox.min.js"></script>








<script src="/script/src/nlvi.js"></script>

  <script src="/script/scheme/banderole.js"></script>

<script src="/script/bootstarp.js"></script>


<div class="backtop syuanpi melt toTop" id="backtop">
    <i class="iconfont icon-up"></i>
    <span style="text-align:center;font-family:Georgia;"><span style="font-family:Georgia;" id="scrollpercent">1</span>%</span>
</div>



</body>
</html>
