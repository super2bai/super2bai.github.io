<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <link rel="stylesheet" href="/style/style.css">
<script>
  var nlviconfig = {
    title: "贰白",
    author: "super2bai",
    baseUrl: "/",
    theme: {
      scheme: "banderole",
      lightbox: true,
      animate: true,
      search: true,
      friends: false,
      reward: true,
      lazy: false
    }
  }
</script>




    <link rel="stylesheet" href="/script/lib/lightbox/css/lightbox.min.css">




    <link rel="stylesheet" href="/syuanpi/syuanpi.min.css">




    <link rel="icon" href="https://wx4.sinaimg.cn/mw690/8c564d2agy1fq4rsiycy4j202c01wa9v.jpg">




<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-98059014-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-116557847-1');
</script>





    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="browsermode" content="application">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="贰白">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="msapplication-navbutton-color" content="#666666">
<meta name="format-detection" content="telephone=no">
<meta name="keywords" content="nlvi, Nlvi">

  <link rel="apple-touch-icon" sizes="72x72" href="https://wx4.sinaimg.cn/mw690/8c564d2agy1fq4rsiycy4j202c01wa9v.jpg">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://wx4.sinaimg.cn/mw690/8c564d2agy1fq4rsiycy4j202c01wa9v.jpg">


  <meta name="subtitle" content="苦于探索，全是未知">


  <meta name="description" content="苦于探索，全是未知">



  <meta name="keywords" content="Data Structures, Nlvi">

  <title> Red-Black Tree · 贰白 </title>
</head>
<body>
  <div class="progress">
  <div class="progress-inner"></div>
</div>
  
  
    <div class="tagcloud-mask"></div>  
<div class="tagcloud" id="tagcloud">
  <div class="tagcloud-inner">
    <a href="/tags/Data-Structures/" style="font-size: 14px;">Data Structures</a> <a href="/tags/Docker/" style="font-size: 14px;">Docker</a> <a href="/tags/Dubbo/" style="font-size: 14px;">Dubbo</a> <a href="/tags/GHPages/" style="font-size: 14px;">GHPages</a> <a href="/tags/IO/" style="font-size: 14px;">IO</a> <a href="/tags/JDK/" style="font-size: 14px;">JDK</a> <a href="/tags/JVM/" style="font-size: 14px;">JVM</a> <a href="/tags/Linux/" style="font-size: 14px;">Linux</a> <a href="/tags/Mac/" style="font-size: 14px;">Mac</a> <a href="/tags/MyBatis/" style="font-size: 14px;">MyBatis</a> <a href="/tags/MySQL/" style="font-size: 14px;">MySQL</a> <a href="/tags/Python/" style="font-size: 14px;">Python</a> <a href="/tags/Spring/" style="font-size: 14px;">Spring</a> <a href="/tags/Zookeeper/" style="font-size: 14px;">Zookeeper</a> <a href="/tags/book/" style="font-size: 14px;">book</a> <a href="/tags/code/" style="font-size: 14px;">code</a> <a href="/tags/emacs/" style="font-size: 14px;">emacs</a> <a href="/tags/es/" style="font-size: 14px;">es</a> <a href="/tags/git/" style="font-size: 14px;">git</a> <a href="/tags/github/" style="font-size: 14px;">github</a> <a href="/tags/idea/" style="font-size: 14px;">idea</a> <a href="/tags/jmeter/" style="font-size: 14px;">jmeter</a> <a href="/tags/mac/" style="font-size: 14px;">mac</a> <a href="/tags/monitor/" style="font-size: 14px;">monitor</a> <a href="/tags/server/" style="font-size: 14px;">server</a> <a href="/tags/walkup/" style="font-size: 14px;">walkup</a> <a href="/tags/zsh/" style="font-size: 14px;">zsh</a> <a href="/tags/分布式/" style="font-size: 14px;">分布式</a> <a href="/tags/工具/" style="font-size: 14px;">工具</a> <a href="/tags/并发/" style="font-size: 14px;">并发</a> <a href="/tags/旅游/" style="font-size: 14px;">旅游</a> <a href="/tags/汇编/" style="font-size: 14px;">汇编</a> <a href="/tags/监控/" style="font-size: 14px;">监控</a> <a href="/tags/编码/" style="font-size: 14px;">编码</a>
  </div>
</div>  
  

  <div class="container">

    <header class="header" id="header">
  <div class="header-wrapper">
    <div class="logo">
  <div class="logo-inner syuanpi tvIn">
    <span><a href="/">贰白</a></span>
    
      <span id="subtitle">苦于探索，全是未知</span>
    
  </div>
</div>
    <nav class="main-nav">
  
  <ul class="main-nav-list syuanpi tvIn">
  
    <li class="menu-item">
      <a href="javascript:;" id="search">
        <span>搜索</span>
        
          <span class="menu-item-label">search</span>
        
      </a>
    </li>
  
  
    
      
    
    <li class="menu-item">
      <a href="/" id="article">
        <span class="base-name">文章</span>
        
          <span class="menu-item-label">article</span>
        
      </a>
    </li>
  
    
      
    
    <li class="menu-item">
      <a href="/archives" id="archives">
        <span class="base-name">归档</span>
        
          <span class="menu-item-label">archives</span>
        
      </a>
    </li>
  
    
      
    
    <li class="menu-item">
      <a href="javascript:;" id="tags">
        <span class="base-name">标签</span>
        
          <span class="menu-item-label">tags</span>
        
      </a>
    </li>
  
    
      
    
    <li class="menu-item">
      <a href="/about" id="about">
        <span class="base-name">关于</span>
        
          <span class="menu-item-label">about</span>
        
      </a>
    </li>
  
  </ul>
  
</nav>

    
    
  </div>
</header>
<div class="mobile-header">
  <div class="mobile-header-body">
    <div class="mobile-header-list">
      
        
            <div class="mobile-nav-item">
                <a href="/">
                    <span>文章</span>
                    
                        <span class="menu-item-label">article</span>
                    
                </a>
            </div>
        
      
        
            <div class="mobile-nav-item">
                <a href="/archives">
                    <span>归档</span>
                    
                        <span class="menu-item-label">archives</span>
                    
                </a>
            </div>
        
      
        
          <div class="mobile-nav-item inner-cloud">
            <div class="mobile-nav-tag">
              <a href="javascript:;" id="mobile-tags">
                <span>标签</span>
                
                    <span class="menu-item-label">tags</span>
                
              </a>
            </div>
            <div class="mobile-nav-tagcloud">
              <div class="mobile-tagcloud-inner">
                <a href="/tags/Data-Structures/" style="font-size: 14px;">Data Structures</a> <a href="/tags/Docker/" style="font-size: 14px;">Docker</a> <a href="/tags/Dubbo/" style="font-size: 14px;">Dubbo</a> <a href="/tags/GHPages/" style="font-size: 14px;">GHPages</a> <a href="/tags/IO/" style="font-size: 14px;">IO</a> <a href="/tags/JDK/" style="font-size: 14px;">JDK</a> <a href="/tags/JVM/" style="font-size: 14px;">JVM</a> <a href="/tags/Linux/" style="font-size: 14px;">Linux</a> <a href="/tags/Mac/" style="font-size: 14px;">Mac</a> <a href="/tags/MyBatis/" style="font-size: 14px;">MyBatis</a> <a href="/tags/MySQL/" style="font-size: 14px;">MySQL</a> <a href="/tags/Python/" style="font-size: 14px;">Python</a> <a href="/tags/Spring/" style="font-size: 14px;">Spring</a> <a href="/tags/Zookeeper/" style="font-size: 14px;">Zookeeper</a> <a href="/tags/book/" style="font-size: 14px;">book</a> <a href="/tags/code/" style="font-size: 14px;">code</a> <a href="/tags/emacs/" style="font-size: 14px;">emacs</a> <a href="/tags/es/" style="font-size: 14px;">es</a> <a href="/tags/git/" style="font-size: 14px;">git</a> <a href="/tags/github/" style="font-size: 14px;">github</a> <a href="/tags/idea/" style="font-size: 14px;">idea</a> <a href="/tags/jmeter/" style="font-size: 14px;">jmeter</a> <a href="/tags/mac/" style="font-size: 14px;">mac</a> <a href="/tags/monitor/" style="font-size: 14px;">monitor</a> <a href="/tags/server/" style="font-size: 14px;">server</a> <a href="/tags/walkup/" style="font-size: 14px;">walkup</a> <a href="/tags/zsh/" style="font-size: 14px;">zsh</a> <a href="/tags/分布式/" style="font-size: 14px;">分布式</a> <a href="/tags/工具/" style="font-size: 14px;">工具</a> <a href="/tags/并发/" style="font-size: 14px;">并发</a> <a href="/tags/旅游/" style="font-size: 14px;">旅游</a> <a href="/tags/汇编/" style="font-size: 14px;">汇编</a> <a href="/tags/监控/" style="font-size: 14px;">监控</a> <a href="/tags/编码/" style="font-size: 14px;">编码</a>
              </div>
            </div>
          </div>
        
      
        
            <div class="mobile-nav-item">
                <a href="/about">
                    <span>关于</span>
                    
                        <span class="menu-item-label">about</span>
                    
                </a>
            </div>
        
      
    </div>
  </div>
  <div class="mobile-header-nav">
    <div class="mobile-header-item" id="mobile-left">
      <div class="header-menu-item">
        <span class="header-menu-line"></span>
      </div>
    </div>
    <h1 class="mobile-header-title">
      <a href="/">贰白</a>
    </h1>
    <div class="mobile-header-item"></div>
  </div>
</div>
    <div class="container-inner">
      <main class="main" id="main">
        <div class="main-wrapper">
          
    
  
  <article class="
  post
   is_post 
  ">
    <header class="post-header">
      <div class="post-time syuanpi fadeInUpShort back-1">
        <div class="post-time-wrapper">
          <span>2019-01-03</span>
          
            
              <span class="post-category"><a href="/categories/DS/">DS</a></span>
            
          
          
            
              <aside class="post-tags syuanpi fadeInUpShort back-3">
              
                <a href="/tags/Data-Structures/">Data Structures</a>
              
              </aside>
            
          
        </div>
      </div>
      <h1 class="post-title syuanpi fadeInUpShort back-2">
        
          Red-Black Tree
        
      </h1>
    </header>
    <div class="post-content syuanpi fadeInUpShort back-3">
      
        <p>我才没有停更呢！红黑树，走着！</p>
<a id="more"></a>
<blockquote>
<p>数据结构是指<strong>逻辑意义</strong>上的数据结构组织方式及其相应的处理方式。</p>
</blockquote>
<ul>
<li>逻辑意义：实现层面，比如树，存储时可能是数组</li>
<li>数据组织方式：表、树、图、散列</li>
<li>处理方式：以某种特定的算法实现数据的增删改查及遍历</li>
</ul>
<h2 id="算法复杂度"><a href="#算法复杂度" class="headerlink" title="算法复杂度"></a>算法复杂度</h2><p><code>O(1)</code>、<code>O(logn)</code>、<code>O(n)</code>、<code>O(nlogn)</code>、<code>O(n2)</code>、<code>O(2n)</code>、<code>O(n!)</code></p>
<h2 id="数据结构的好与坏"><a href="#数据结构的好与坏" class="headerlink" title="数据结构的好与坏"></a>数据结构的好与坏</h2><p>AVL树&amp;红黑树：取决于场景和数据量</p>
<p>让算法复杂度成为一种立体的思维习惯。算法的规模和调用频率。</p>
<h2 id="什么是树"><a href="#什么是树" class="headerlink" title="什么是树"></a>什么是树</h2><ul>
<li>一个节点，即只有根节点，也可以是一棵树</li>
<li>其中任何一个节点与下面所有节点构成的树称为子树</li>
<li>根节点没有父节点，而叶子节点没有子节点</li>
<li>除根节点外，任何节点有且仅有一个父节点</li>
<li>任何节点可以有0~n个子节点</li>
</ul>
<h2 id="二叉查找树特性"><a href="#二叉查找树特性" class="headerlink" title="二叉查找树特性"></a>二叉查找树特性</h2><ul>
<li>左子树所有节点的值均小于或等于根节点的值</li>
<li>右子树所有节点的值均大于或等于根节点的值</li>
<li>左、右子树本身又各都是二叉查找树</li>
</ul>
<h3 id="二叉树如何找数据10"><a href="#二叉树如何找数据10" class="headerlink" title="二叉树如何找数据10"></a>二叉树如何找数据10</h3><p><img src="https://wx1.sinaimg.cn/mw690/8c564d2agy1fyqd4opchqj21400u03zu.jpg" alt></p>
<ul>
<li>首先从根节点开始，比较10与9，由于10&gt;9，则在右子树查找</li>
<li>比较10与13，由于10&lt;13，则在左子树查找</li>
<li>比较10与11，由于10&lt;11，则在左子树查找</li>
<li>查找到10</li>
</ul>
<p>利用二分查找思想，经过三次，效率高。如果是列表的话，查找次数不止三次，正是因为这个特性，二叉查找树得到广泛应用。</p>
<h3 id="二叉树如何找数据"><a href="#二叉树如何找数据" class="headerlink" title="二叉树如何找数据"></a>二叉树如何找数据</h3><p><img src="https://wx2.sinaimg.cn/mw690/8c564d2agy1fyqd4oj864j20u0140q4w.jpg" alt></p>
<p>前序遍历：根左右</p>
<p>中序遍历：左根右</p>
<p>后序遍历：左右根</p>
<p>二叉查找树的中序遍历就是有序序列，落到数轴上，即124789。</p>
<h3 id="长歪的二叉查找树"><a href="#长歪的二叉查找树" class="headerlink" title="长歪的二叉查找树"></a>长歪的二叉查找树</h3><p><img src="https://wx2.sinaimg.cn/mw690/8c564d2agy1fyqd4o8pizj20u01400u3.jpg" alt></p>
<p>都是大于上一个节点，都挂在右节点，说是树，其实是列表，几乎变成了线性，构建、查找树均效率低。那就需要把树变得扁一些，重新构建树，解决多次插入新节点导致的不平衡问题，也就是平衡二叉树。</p>
<h2 id="平衡二叉树"><a href="#平衡二叉树" class="headerlink" title="平衡二叉树"></a>平衡二叉树</h2><h3 id="性质"><a href="#性质" class="headerlink" title="性质"></a>性质</h3><ul>
<li>树的左右<strong>高度差</strong>的绝对值不能超过1</li>
<li>任何往下<strong>递归</strong>的左、右子树，必须符合第一条性质</li>
<li>没有任何节点的<strong>空树</strong>或只有根节点的树也是平衡二叉树</li>
</ul>
<p><img src="http://wx3.sinaimg.cn/mw690/8c564d2agy1fyqd4oe410j21400u0409.jpg" alt></p>
<h3 id="红黑树与AVL树"><a href="#红黑树与AVL树" class="headerlink" title="红黑树与AVL树"></a>红黑树与AVL树</h3><p><strong>AVL树</strong>：是以苏联数学家Adelson-Velsky和Landis名字命名的平衡二叉树算法</p>
<p>插入和修改都不频繁，查询频繁。</p>
<p><strong>红黑树</strong>：是于1972年发明的，当时称为对称二叉B树，1978年得到优化，正式命名为红黑树。它的特征是在每个节点上增加一个属性来表示节点的颜色，可以是红色和黑色。频繁插入和删除效率高。</p>
<p><strong>AVL树与红黑树是兄弟关系，谁也不属于谁</strong></p>
<h3 id="红黑树"><a href="#红黑树" class="headerlink" title="红黑树"></a>红黑树</h3><blockquote>
<p>自平衡的二叉查找树</p>
</blockquote>
<p>红黑树以各方面都不差的性能，在JDK集合中广泛使用(TreeMap和TreeSet底层实现，HashMap_JDK8)</p>
<ul>
<li>节点只能是红色或黑色</li>
<li>根节点必须是黑色(旋转时很重要)</li>
<li>每个叶子节点都是黑色的空节点(NIL节点)<ul>
<li>nothing is leave，叶子节点的虚节点</li>
<li>旋转时，必须要判断叔叔节点的颜色，以决定旋转方向</li>
</ul>
</li>
<li>一条路径上不能出现相邻的两个红色节点</li>
<li>每个红色节点的两个子节点都是黑色的(从每个叶子到根的所有路径上不能有两个连续的红色节点)</li>
<li>从任一节点到其每个叶子的所有路径都包含相同数目的黑色节点</li>
<li>在任何递归子树内，根节点到叶子节点的所有路径上包含相同数目的黑色</li>
</ul>
<p><strong>红黑树从根到叶子的最长路径不会超过最短路径的2倍</strong></p>
<h4 id="插入新节点"><a href="#插入新节点" class="headerlink" title="插入新节点"></a>插入新节点</h4><p>红黑树在插入和删除节点时，会导致红黑树性质发生改变，需要调整树的结构。</p>
<ul>
<li>操作<ul>
<li>变色</li>
<li>旋转<ul>
<li>左旋<ul>
<li>逆时针旋转红黑树的两个节点，使得父节点被自己的右子节点取代，而自己称为左子节点</li>
</ul>
</li>
<li>右旋<ul>
<li>顺时针旋转红黑树的两个节点，使得父节点被自己的左子节点取代，而自己成为右子节点</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>过程<ul>
<li>红黑树的根节点始终为黑色，插入节点默认为红色（黑色也可以，但是会增加路径上的黑色结点，很容易破坏红黑树性质，调整很麻烦，所以选择红色）</li>
<li>插入红色节点</li>
</ul>
</li>
</ul>
<h5 id="插入新节点后的操作"><a href="#插入新节点后的操作" class="headerlink" title="插入新节点后的操作"></a>插入新节点后的操作</h5><ul>
<li>如果父结点为黑色，红黑树性质继续保持，操作完成。</li>
<li>如果父结点为红色时，叔叔节点时红色，则重新着色</li>
<li>如果父节点是红色，叔叔节点是黑色，而新节点是父节点的右节点时，进行左旋</li>
<li>如果父节点是红色，叔叔节点是黑色，而新节点是父节点的左节点时，进行右旋</li>
</ul>
<h4 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h4><p>ConcurrentHashMap中定义了5种节点类型，分别为Node(常规节点类型)、Null、ReservationNode、TreeBin(要挂红黑树啦，下面是红色或黑色的TreeNode)、ForwardingNode(在扩容时，迁移完会放一个节点，如果这个节点放在桶里，会转发到迁移后的表里)。</p>
<p>下图为ConcurrentHashMap中底层实现，树与链表间的转换，使得拥有高效率的查询。</p>
<p><img src="https://wx2.sinaimg.cn/mw690/8c564d2agy1fyrlkpp08nj20uc0auwg1.jpg" alt="转为树"></p>
<p>当binCount大于等于TREEIFY_THRESHOLD时，转化为树。</p>
<p><img src="https://wx1.sinaimg.cn/mw690/8c564d2agy1fyrlkr2nu1j215a0tcq95.jpg" alt="转为链表"></p>
<p>如果是小于，则变为列表。</p>
<p>TreeMap底层的红黑树实现，新节点默认为红色，判断当树不平衡时，进行变色及旋转操作。</p>
<p><img src="https://wx4.sinaimg.cn/mw690/8c564d2agy1fyrlsf9gzyj20u00wugt5.jpg" alt="TreeMap"></p>
<h2 id="集合框架图"><a href="#集合框架图" class="headerlink" title="集合框架图"></a>集合框架图</h2><p>集合是数据结构的载体</p>
<p><img src="http://wx1.sinaimg.cn/large/8c564d2agy1fyspaak2trj21xy0u0adi.jpg" alt></p>
<h3 id="常用集合"><a href="#常用集合" class="headerlink" title="常用集合"></a>常用集合</h3><ul>
<li>HashSet、HashMap</li>
<li>TreeSet、TreeMap<ul>
<li>TreeSet其实就是TreeMap，只不过是TreeSet把value固定为<code>Present</code>，就是new Object()。浪费存储，new Object()大约占12个字节，和虚拟机有关，可以用visualVM分析。</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">TreeSet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>(<span class="keyword">new</span> TreeMap&lt;&gt;());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> m.put(e, PRESENT)==<span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Object PRESENT = <span class="keyword">new</span> Object();</span><br></pre></td></tr></table></figure>
<ul>
<li>LinkedList、ArrayList<ul>
<li>LinkedList实现了Deque接口</li>
<li>ArrayList的subList方法有坑，在subList场景中，高度注意对父集合元素的增加或删除，均会导致对子列表的遍历，增加、删除产生ConcurrentModificationException异常</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">List parent = <span class="keyword">new</span> ArrayList();</span><br><span class="line">parent.add(<span class="number">1</span>);</span><br><span class="line">parent.add(<span class="number">2</span>);</span><br><span class="line">parent.add(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">List list = parent.subList(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">parent.add(<span class="number">4</span>);</span><br><span class="line">list.forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread &quot;main&quot; java.util.ConcurrentModificationException</span><br><span class="line">at java.base/java.util.ArrayList$SubList.checkForComodification(ArrayList.java:1284)</span><br><span class="line">at java.base/java.util.ArrayList$SubList.listIterator(ArrayList.java:1153)</span><br><span class="line">at java.base/java.util.AbstractList.listIterator(AbstractList.java:311)</span><br><span class="line">at java.base/java.util.ArrayList$SubList.iterator(ArrayList.java:1149)</span><br><span class="line">at java.base/java.lang.Iterable.forEach(Iterable.java:74)</span><br></pre></td></tr></table></figure>
<h3 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h3><ul>
<li>为什么要关注位运算。float的浮点型的实现。0.8f-0.7是否等于0.7f-0.6f。不等于。因为float有精度损失。</li>
<li>如何在单位愉快的实施代码规约？1.立法透明；大家都参与2.执法严厉；制定了就要严格执行，包括奖惩机制，组织上也要支持，技术负责人和老板要支持，要知道代码约定的意义。3.方法不要超过80行</li>
<li>如何高效阅读源码？1.让你的使用方式是正确的，避免错误的使用；2.出问题时快速定位问题；有可能是底层、也有可能是框架原理性的问题；3.使用断点调试(watch查看值)</li>
<li>数据结构在增删改查时很少用，有啥用？1.数据结构和集合是两回事，不同的集合可以用相同的数据结构来实现。2.业务判断，数据结构是否适合业务快速迭代，快速run起来。</li>
<li>ArrayList和HashMap走天下，有什么问题？数据结构的增删改查有侧重，要恰当的使用数据结构，多看看并法包。</li>
<li>CopyOnWriteArrayList，简称COW，在写的时候会复制一份出来，读的时候读原始数据。写的时候通知读，数据要发生改变啦。写的时候是利用了volatile，保证了线程的可见性。</li>
<li>怎么看待设计模式？设计模型的三种模式：创建(解决对象创建和使用之间的耦合度)、结构(解决对象的结构和功能之间的耦合问题)和行为(解决对象不变变化对使用者带来的耦合问题)。比如享元模式，是为了把变和不变的地方分离开来。例如下围棋时，棋子可以放在盒子里继续使用，它的材质、大小、形状、厂家是一样，但是位置、颜色是会发生变化的</li>
<li>如何解决线程和线程池的恐惧？1.线程和线程池各自有状态，例如线程有running、block、wait；线程池有terminate、stop、running等。线程池解决了高效复用线程的问题。线程提高了进程的使用效率。虽然多线程跑的时候不太可控，但正因为多线程的存在，才可以不受控于CPU的核数。</li>
<li>领域驱动的难点？很难抽象出比较好的业务模型</li>
</ul>

      
    
    </div>
    
      
  <div class="post-reward">
    <span class="reward-btn" id="reward-btn">点这里</span>
    <div class="reward-wrapper syuanpi" id="reward-wrapper" style="display:none;">
      
      <div class="reward-item reward-alipay">
        <img src="https://wx3.sinaimg.cn/mw690/8c564d2aly1ftkt83thjlj20o60skjzn.jpg">
      </div>
      
    </div>
  </div>


      
    
  </article>
  
    
  <nav class="article-page">
    
      <a href="/git/alias.html" id="art-left" class="art-left">
        <span class="next-title">
          <i class="iconfont icon-left"></i>git与oh-my-zsh
        </span>
      </a>
    
    
      <a href="/MySQL/frm.html" id="art-right" class="art-right">
        <span class="prev-title"> 
          Mac访问MySQL的Data文件夹<i class="iconfont icon-right"></i>  
        </span>
      </a>
    
  </nav>

    
  <i id="com-switch" class="iconfont icon-more jumping-in long infinite" style="font-size:24px;display:block;text-align:center;transform:rotate(180deg);"></i>
  <div class="post-comments" id="post-comments" style="display: block;margin: auto 16px;">
    
<!-- Gitment Comments -->
<div id="gitment"></div>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
var gitment = new Gitment({
  owner: "super2bai",
  repo: 'comment',
  oauth: {
    client_id: '37f2293730b41dcb5276',
    client_secret: 'dbab4955840d4cbc88f1563be04ab676662194e5',
  },
})
gitment.render('gitment')
</script>

    
    

  </div>


  
  
    
  
  <aside class="post-toc">
    <span class="title" id="toc-switch"><span>文章导航</span></span>
    <div class="toc-inner syuanpi back-1" style="display:none;">
      <li class="title-link"><a href="javascript:;" class="toTop">Red-Black Tree</a></li>
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#算法复杂度"><span class="toc-text">算法复杂度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据结构的好与坏"><span class="toc-text">数据结构的好与坏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#什么是树"><span class="toc-text">什么是树</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二叉查找树特性"><span class="toc-text">二叉查找树特性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#二叉树如何找数据10"><span class="toc-text">二叉树如何找数据10</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#二叉树如何找数据"><span class="toc-text">二叉树如何找数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#长歪的二叉查找树"><span class="toc-text">长歪的二叉查找树</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#平衡二叉树"><span class="toc-text">平衡二叉树</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#性质"><span class="toc-text">性质</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#红黑树与AVL树"><span class="toc-text">红黑树与AVL树</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#红黑树"><span class="toc-text">红黑树</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#插入新节点"><span class="toc-text">插入新节点</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#插入新节点后的操作"><span class="toc-text">插入新节点后的操作</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#应用"><span class="toc-text">应用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#集合框架图"><span class="toc-text">集合框架图</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#常用集合"><span class="toc-text">常用集合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其它"><span class="toc-text">其它</span></a></li></ol></li></ol>
    </div>
  </aside>



  


        </div>
      </main>

      <footer class="footer syuanpi fadeIn" id="footer">
  <hr>
  <div class="footer-wrapper">
    <div class="left">
      <div class="contact-icon">
    
    
    
    
    
    
    
    
        
            <a href="https://github.com/super2bai" class="iconfont icon-github" title="github"></a>
        
        
        
        
        
        
        
    
</div>
    </div>
    <div class="right">
      <div class="copyright">
    <div class="info">
        <span>&copy;</span>
        <span>2017 ~ 2020</span>
        <span>❤</span>
        <span>super2bai</span>
    </div>
    <div class="theme">
        <span>
            动力来源于
            <a href="http://hexo.io/" target="_blank">Hexo </a>
        </span>
        <span>
            主题
            <a href="https://github.com/ColMugX/hexo-theme-Nlvi"> Nlvi </a>
        </span>
    </div>
    
    <div class="visit_count">
        <i class="iconfont icon-visit"></i>
        <span id="busuanzi_value_site_uv"></span>
        <i class="iconfont icon-people"></i>
        <span id="busuanzi_value_site_pv"></span>
    </div>
    
</div>

    </div>
  </div>
</footer>
    </div>
  </div>
  <script src="/script/lib/jquery/jquery-3.2.1.min.js"></script>


  <script src="/script/lib/lightbox/js/lightbox.min.js"></script>








<script src="/script/src/nlvi.js"></script>

  <script src="/script/scheme/banderole.js"></script>

<script src="/script/bootstarp.js"></script>


<div class="backtop syuanpi melt toTop" id="backtop">
    <i class="iconfont icon-up"></i>
    <span style="text-align:center;font-family:Georgia;"><span style="font-family:Georgia;" id="scrollpercent">1</span>%</span>
</div>


  <div class="search" id="search">
    <div class="mask" id="mask"></div>
    <div class="search-wrapper syuanpi">
      <h2 id="search-header" class="syuanpi">找啥？</h2>
      <div class="input">
        <input type="text" id="local-search-input" results="0" name>
      </div>
      <div id="local-search-result"></div>
    </div>
  </div>


</body>
</html>
